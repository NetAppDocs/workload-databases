---
sidebar: sidebar
permalink: register-instance.html
keywords: manage, register, Microsoft SQL Server instance, Oracle database, manage database, manage instance
summary: "Register resources so that you can monitor resource status, resource utilization, protection, and storage performance in NetApp Workload Factory for Databases."
---
= Register resources in NetApp Workload Factory for Databases
:icons: font
:imagesdir: ./media/

[.lead]
Register instances for Microsoft SQL Server and databases for Oracle so that you can monitor instance and database status, resource utilization, protection, and storage performance in NetApp Workload Factory for Databases.

You can register your resources only if they run on FSx for ONTAP file system storage.

== About the task
Registering an instance (SQL Server) or database (Oracle) has three steps - instance or database authentication, FSx for ONTAP authentication, and preparation. Preparation involves making sure that all AWS, NetApp, and PowerShell modules are installed on the instance or database, and that the minimum requirements for Workload Factory for Databases features like link:analyze-error-logs.html[error log analysis] or link:optimize-configurations.html[well-architected review] are met.

Workload Factory supports only Microsoft SQL Server instance and Oracle database registration and management. Depending on the AWS account credentials you select in Workload Factory, PostgreSQL hosts might appear in the Inventory. Currently, Workload Factory supports unregistered PostgreSQL instances running only on Amazon Linux operating systems.

== Before you begin

The host for the instance or database must appear in the Inventory. For hosts to appear in the inventory, you must link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html[grant _view, planning, and analysis_ permissions^] in your AWS account. 

=== Registering an instance in a private network
To register an instance (SQL Server) or database (Oracle) in a private network with no external connectivity, the following endpoints need to be available in the VPC with association to the subnets where SQL servers are present. Ensure the interface endpoints allow port 443 in the attached Security Group.

* `S3 Gateway/endpoint`
* `ssm`
* `ssmmessages`
* `fsx` 
+
If you use a proxy server for all outbound connections from EC2 instances, you must allow access to the following domains so that management operations work:
 
* ``.microsoft.com`` (SQL Server)
* ``.powershellgallery.com`` (SQL Server)
* ``.aws.amazon.com``
* ``.amazonaws.com``

== Register a Microsoft SQL Server instance
Registering an instance includes three steps: instance authentication, FSx for ONTAP authentication, and preparation to complete missing prerequisites. You can register single or multiple instances.

Workload Factory supports registration for Failover Cluster Instance (FCI) and Standalone deployment for SQL Server. 

.Steps
. Log in using one of the link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html[console experiences^].
. Select the menu image:workloads-menu-icon.png[The hamburger menu icon is used to navigate to workloads like storage, eda, ai, databases, vmware, and administration.] and then select *Databases*.
. From the Databases menu, select *Inventory*. 
. In the Inventory, select *Microsoft SQL Server* as the engine type.
. Select the *Instances* tab. 
. Select to register a single instance or multiple instances. 
. To Authenticate instances (step 1), do the following and then select *Next*: 
* Select to *Use the same credentials for all instances* or *Manage credentials manually*. 
* Authenticate SQL Server and Windows by providing user name and password information.
+
If instances are authenticated, select *Next*.
. To Authenticate FSx for ONTAP (step 2), do the following:
* Select to *Use the same credentials for all resources* or *Manage credentials manually*. 
* Enter the FSx for ONTAP file system user name and password, and then select *Next*. 
+
If the FSx for ONTAP file system is authenticated, select *Next*.
. To Prepare (step 3), make sure the instance(s) meets the minimum requirements. To meet the minimum requirements, the instance must have AWS and NetApp PowerShell modules and PowerShell 7 modules installed and complete the prerequisites for at least one of the capabilities listed under Prerequisite check.
.. Review the prerequisites in the *Prerequisite check view*. 
+
You must complete all prerequisites for a single capability like *Review well-architected issues and recommendations* to register the instance.
.. Select *Setup details* for each capability to learn about the capability prerequisites and follow the on-screen instructions to complete any missing prerequisites for a capability. 
+
To have Workload Factory to link:optimize-configurations.html[review and fix well-architected issues] for your instances, complete all prerequisites listed under *Review well-architected issues and recommendations* and *Fix well-architected issues* capabilities.

. When prerequisites are complete, *Register* the instance(s).

.Result
Instance registration initiates. Select the *Job monitoring* tab to track progress.

== Register an Oracle database
Registering a database includes instance authentication and preparation. 

.Steps
. Log in using one of the link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html[console experiences^].
. Select the menu image:workloads-menu-icon.png[The hamburger menu icon is used to navigate to workloads like storage, eda, ai, databases, vmware, and administration.] and then select *Databases*.
. From the Databases menu, select *Inventory*. 
. In the Inventory, select *Oracle* as the engine type.
. Select the *Databases* tab.
. Select to register a single database or multiple databases. 
. To Authenticate databases (step 1), do the following: 
* Select to *Use the same credentials for all instances* or *Manage credentials manually*. 
* Authenticate Oracle user and Automatic Storage Management (ASM) grid user (if applicable) by providing user name and password information.
+
If databases are already authenticated, select *Next*.

. To Authenticate FSx for ONTAP (step 2), do the following and then select *Next*:
* Select to *Use the same credentials for all resources* or *Manage credentials manually*. 
* Enter the FSx for ONTAP file system user name and password.
+
If the FSx for ONTAP file system is already authenticated, select *Next*.

. To Prepare (step 3), make sure the database(s) meets required prerequisites.
If all required modules are installed and prerequisites are met, select *Next* to register the database. Otherwise, follow these steps.  
.. Review the prerequisites in the *Prerequisite check view*. 
+
You must complete all prerequisites for a single capability like *Review well-architected issues and recommendations* to register the database. 
.. Select *Setup details* for each capability to learn about the capability prerequisites and follow the on-screen instructions to complete any missing prerequisites for a capability. 
+
To have Workload Factory to link:optimize-configurations.html[review and fix well-architected issues] for your databases, complete all prerequisites listed under *Review well-architected issues and recommendations* and *Fix well-architected issues* capabilities.

. When prerequisites are complete, *Register* the database(s).

.Result
Database registration initiates. Select the *Job monitoring* tab to track progress. 

.What's next

After resource registration, you can perform the following tasks.

* View databases from the inventory
* link:create-database.html[Create a database]
* link:create-sandbox-clone.html[Create a database clone (sandbox)]
* link:optimize-configurations.html[Implement well-architected database configurations]
